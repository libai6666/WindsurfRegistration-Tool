<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>windsurfæ³¨å†Œç»‘å¡å·¥å…·</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
          <header class="hero">
              <div class="hero-tag">V1.0.0</div>
              <h1 id="mainTitle">ğŸŒŠ Windsurf å·¥å…·</h1>
              <p class="hero-subtitle">æ™ºèƒ½æ³¨å†ŒåŠ©æ‰‹ï¼Œä¸€é”®æå®šé‚®ç®±ä¸å¯†ç é…ç½®</p>
          </header>
        
        <!-- æ§åˆ¶åŒºåŸŸ -->
        <section class="card actions">
            <button id="startBtn" class="btn btn-primary">
                <svg class="btn-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                <span class="btn-text">å¼€å§‹è‡ªåŠ¨æ³¨å†Œ</span>
                <span class="btn-ripple"></span>
            </button>
            <div class="btn-row">
                <button id="autoFillCardBtn" class="btn btn-tonal btn-compact" title="è‡ªåŠ¨å¡«å¡">
                    <svg class="btn-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>
                    <span class="btn-text">å¡«å¡</span>
                </button>
                <button id="openPageBtn" class="btn btn-tonal btn-compact" title="æ‰“å¼€æ³¨å†Œé¡µé¢">
                    <svg class="btn-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    <span class="btn-text">æ‰“å¼€</span>
                </button>
                <button id="saveConfigBtn" class="btn btn-tonal btn-compact" title="ä¿å­˜é…ç½®">
                    <svg class="btn-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>
                    <span class="btn-text">ä¿å­˜</span>
                </button>
                <button id="exportAccountsBtn" class="btn btn-tonal btn-compact" title="å¯¼å‡ºè´¦å·">
                    <svg class="btn-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    <span class="btn-text">å¯¼å‡º</span>
                </button>
            </div>
        </section>
        
        <!-- é‚®ç®±é…ç½®åŒº -->
        <section class="card">
            <div class="card-header">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>
                </div>
                <h2>é‚®ç®±é…ç½®</h2>
            </div>
            
            <label class="form-block">
                <span class="label">é‚®ç®±ç”¨æˆ·å</span>
                <div class="input-with-btn">
                    <input type="text" id="emailPrefix" placeholder="ä¾‹å¦‚ï¼šuser1234" class="input-modern">
                    <button id="generatePrefix" class="btn-icon-modern" title="ç”Ÿæˆéšæœºå‰ç¼€">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 3.13a4 4 0 0 1 0 7.75"></path><path d="M17.5 4.25a2 2 0 0 1 0 3.5"></path><path d="M14 6.13a6 6 0 0 1 0 11.75"></path><path d="M15.5 7.25a4 4 0 0 1 0 7.5"></path><path d="M2 6.13a6 6 0 0 1 0 11.75"></path><path d="M3.5 7.25a4 4 0 0 1 0 7.5"></path><path d="M8 3.13a4 4 0 0 1 0 7.75"></path><path d="M9.5 4.25a2 2 0 0 1 0 3.5"></path></svg>
                    </button>
                </div>
                <small>ç‚¹å‡»å›¾æ ‡è‡ªåŠ¨ç”Ÿæˆéšæœºå‰ç¼€</small>
            </label>
            
            <label class="form-block">
                <span class="label">é‚®ç®±åŸŸå</span>
                <div class="readonly-pill">
                    <span>moemail.app Â· è‡ªåŠ¨åˆ›å»º</span>
                </div>
            </label>
            
            <div class="preview-card">
                <div class="preview-content">
                    <span id="emailPreview">test@moemail.app</span>
                    <button class="copy-btn" title="å¤åˆ¶é‚®ç®±">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    </button>
                </div>
            </div>
            
            <label class="form-block">
                <span class="label">é‚®ç®±å¯†ç </span>
                <div class="input-with-btn">
                    <input type="password" id="emailPassword" placeholder="è®¾ç½®é‚®ç®±å¯†ç ï¼ˆå¯é€‰ï¼‰" class="input-modern">
                    <div class="btn-group">
                        <button id="toggleEmailPassword" class="btn-icon-modern" title="æ˜¾ç¤º/éšè—å¯†ç ">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        </button>
                        <button id="generateEmailPassword" class="btn-icon-modern" title="ç”Ÿæˆéšæœºå¯†ç ">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 3.13a4 4 0 0 1 0 7.75"></path><path d="M17.5 4.25a2 2 0 0 1 0 3.5"></path><path d="M14 6.13a6 6 0 0 1 0 11.75"></path><path d="M15.5 7.25a4 4 0 0 1 0 7.5"></path><path d="M2 6.13a6 6 0 0 1 0 11.75"></path><path d="M3.5 7.25a4 4 0 0 1 0 7.5"></path><path d="M8 3.13a4 4 0 0 1 0 7.75"></path><path d="M9.5 4.25a2 2 0 0 1 0 3.5"></path></svg>
                        </button>
                    </div>
                </div>
            </label>
        </section>
        
        <!-- å¯†ç ä¸APIé…ç½®åŒº -->
        <section class="card">
            <div class="card-header">
                <div class="card-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path></svg>
                </div>
                <h2>å¯†ç ä¸APIé…ç½®</h2>
            </div>
            
            <label class="form-block">
                <span class="label">ç™»å½•å¯†ç </span>
                <div class="input-with-btn">
                    <input type="password" id="password" placeholder="å»ºè®®åŒ…å«å¤§å°å†™ã€æ•°å­—ä¸ç¬¦å·" class="input-modern">
                    <div class="btn-group">
                        <button id="togglePassword" class="btn-icon-modern" title="æ˜¾ç¤º/éšè—å¯†ç ">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        </button>
                        <button id="generatePassword" class="btn-icon-modern" title="ç”Ÿæˆéšæœºå¯†ç ">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 3.13a4 4 0 0 1 0 7.75"></path><path d="M17.5 4.25a2 2 0 0 1 0 3.5"></path><path d="M14 6.13a6 6 0 0 1 0 11.75"></path><path d="M15.5 7.25a4 4 0 0 1 0 7.5"></path><path d="M2 6.13a6 6 0 0 1 0 11.75"></path><path d="M3.5 7.25a4 4 0 0 1 0 7.5"></path><path d="M8 3.13a4 4 0 0 1 0 7.75"></path><path d="M9.5 4.25a2 2 0 0 1 0 3.5"></path></svg>
                        </button>
                    </div>
                </div>
            </label>
            
            <label class="form-block">
                <span class="label">Moemail API Key</span>
                <div class="input-with-btn">
                    <input type="password" id="moemailApiKey" placeholder="è¾“å…¥æ‚¨çš„ Moemail API Key" class="input-modern">
                    <div class="btn-group">
                        <button id="toggleApiKey" class="btn-icon-modern" title="æ˜¾ç¤º/éšè— API Key">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                        </button>
                        <button id="testApiKey" class="btn-icon-modern" title="æµ‹è¯• API Key">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 15a3 3 0 1 0 0-6 3 3 0 1 0 0 6Z"></path><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                        </button>
                    </div>
                </div>
                <small>API Key å°†åœ¨ä¿å­˜é…ç½®æ—¶è‡ªåŠ¨å­˜å‚¨</small>
            </label>
        </section>
        
        <!-- çŠ¶æ€æ˜¾ç¤º -->
        <section class="card status-card">
            <div class="card-header">
                <div class="card-icon status-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"></path><path d="M18.7 8a6 6 0 0 0-6 0"></path><path d="M12.7 14a6 6 0 0 0-6 0"></path></svg>
                </div>
                <h2>è¿è¡ŒçŠ¶æ€</h2>
            </div>
            <div id="status" class="status status-modern">ç­‰å¾…å¼€å§‹...</div>
            <div class="log-container">
                <div class="log-header">
                    <span>å®æ—¶æ—¥å¿—</span>
                    <button id="clearLog" class="btn-icon-small" title="æ¸…ç©ºæ—¥å¿—">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                    </button>
                </div>
                <div id="log" class="log log-modern"></div>
            </div>
        </section>
        
        <!-- ä½¿ç”¨è¯´æ˜ï¼ˆå¯æŠ˜å ï¼‰ -->
        <section class="card help help-modern">
            <div class="card-header help-header" style="cursor: pointer;">
                <div class="card-icon help-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15.09 14c.32.92.6 1.95.81 3H8.1a9 9 0 0 1 .81-3h6.18Z"></path><path d="M9 17v1a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-1"></path><path d="M12 2a7 7 0 0 0-5 2.18a7 7 0 0 0 0 9.64A7 7 0 0 0 12 14a7 7 0 0 0 5-2.18a7 7 0 0 0 0-9.64A7 7 0 0 0 12 2Z"></path></svg>
                </div>
                <h2>ä½¿ç”¨è¯´æ˜</h2>
            </div>
            <div id="helpContent" class="help-content" style="display:none;">
                <ol id="defaultUsage" class="help-list">
                    <li class="help-item">
                        <span class="help-number">1</span>
                        <span class="help-text">ç”Ÿæˆé‚®ç®±ç”¨æˆ·åï¼Œè®¾ç½®å¯†ç ï¼Œç‚¹å‡»"å¼€å§‹è‡ªåŠ¨æ³¨å†Œ"ã€‚</span>
                    </li>
                    <li class="help-item">
                        <span class="help-number">2</span>
                        <span class="help-text">å‡ºç°äººæœºéªŒè¯æ—¶è¯·æ‰‹åŠ¨å®Œæˆï¼Œæ’ä»¶ä¼šç»§ç»­è‡ªåŠ¨åŒ–æµç¨‹ã€‚</span>
                    </li>
                    <li class="help-item">
                        <span class="help-number">3</span>
                        <span class="help-text">éªŒè¯ç å°†è‡ªåŠ¨å¡«å†™ï¼›å¦‚å¤±è´¥ï¼Œå¯æŸ¥çœ‹è¿è¡ŒçŠ¶æ€æ—¥å¿—ã€‚</span>
                    </li>
                </ol>
            </div>
        </section>
        
        <!-- å…¬å‘Šé¢æ¿ -->
        <section id="noticePanel" class="card notice-panel notice-modern" style="display:none;">
            <div class="notice-header">
                <div class="notice-icon">âš ï¸</div>
                <h2 class="notice-title">é‡è¦å…¬å‘Š</h2>
            </div>
            <p id="noticeMessage" class="notice-message">å…¬å‘Šå†…å®¹</p>
            
            <div class="notice-links">
                <a id="positiveBtn" href="#" class="notice-link notice-link-primary" style="display:none;">äº†è§£è¯¦æƒ…</a>
                <a id="cancelBtn" href="#" class="notice-link notice-link-secondary" style="display:none;">ç¨åæŸ¥çœ‹</a>
                <a id="neutralBtn" href="#" class="notice-link notice-link-tertiary" style="display:none;">ä¸å†æé†’</a>
            </div>
        </section>
    </div>
    
    <!-- å¼•å…¥è„šæœ¬ï¼ˆæŒ‰é¡ºåºï¼‰-->
    <script src="storage-config.js"></script>
    <script src="notice-manager.js"></script>
    <script src="popup-utils.js"></script>
    <script>

        // toggleHelpå‡½æ•°å·²åœ¨popup-utils.jsä¸­å®šä¹‰å¹¶ç»‘å®š

        // å¯†ç æ˜¾ç¤º/éšè—åˆ‡æ¢
        document.addEventListener('DOMContentLoaded', function() {
            // é‚®ç®±å¯†ç æ˜¾ç¤º/éšè—
            const toggleEmailPasswordBtn = document.getElementById('toggleEmailPassword');
            if (toggleEmailPasswordBtn) {
                toggleEmailPasswordBtn.addEventListener('click', function() {
                    const emailPasswordInput = document.getElementById('emailPassword');
                    if (emailPasswordInput.type === 'password') {
                        emailPasswordInput.type = 'text';
                        this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>';
                    } else {
                        emailPasswordInput.type = 'password';
                        this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>';
                    }
                });
            }

            // ç™»å½•å¯†ç æ˜¾ç¤º/éšè—
            const togglePasswordBtn = document.getElementById('togglePassword');
            if (togglePasswordBtn) {
                togglePasswordBtn.addEventListener('click', function() {
                    const passwordInput = document.getElementById('password');
                    if (passwordInput.type === 'password') {
                        passwordInput.type = 'text';
                        this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>';
                    } else {
                        passwordInput.type = 'password';
                        this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>';
                    }
                });
            }

            // API Key æ˜¾ç¤º/éšè—
            const toggleApiKeyBtn = document.getElementById('toggleApiKey');
            if (toggleApiKeyBtn) {
                toggleApiKeyBtn.addEventListener('click', function() {
                    const apiKeyInput = document.getElementById('moemailApiKey');
                    if (apiKeyInput.type === 'password') {
                        apiKeyInput.type = 'text';
                        this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>';
                    } else {
                        apiKeyInput.type = 'password';
                        this.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>';
                    }
                });
            }
        });
    </script>
   <!-- <script src="popup.js"></script> -->
</body>
</html>
